# Hadolint Configuration for Local Pulse
# Dockerfile Security Linting
#
# Run: hadolint Dockerfile --config .hadolint.yaml

# Globally ignored rules (with justification)
ignored:
  # DL3008: Pin versions in apt-get
  # Reason: Base images handle version pinning
  - DL3008

  # DL3013: Pin versions in pip
  # Reason: We use requirements.txt with pinned versions
  - DL3013

# Override severity levels
override:
  error:
    # DL3002: Last USER should not be root
    - DL3002
    # DL3004: Do not use sudo
    - DL3004
    # DL3007: Using latest is prone to errors
    - DL3007
  warning:
    # DL3003: Use WORKDIR instead of cd
    - DL3003
    # DL3009: Delete apt-get lists after install
    - DL3009
    # DL3015: Avoid additional packages
    - DL3015
  info:
    # DL3059: Multiple consecutive RUN instructions
    - DL3059

# Trusted registries for FROM instructions
trustedRegistries:
  - docker.io
  - gcr.io
  - ghcr.io
  - quay.io

# Failure threshold (fail on error, warn on warning)
failure-threshold: error

# Format output
format: tty
